//@ui5-bundle urvfrontend/Component-preload.js
sap.ui.require.preload({
	"urvfrontend/Component.js":function(){
"use strict";sap.ui.define(["sap/ui/core/UIComponent","./model/models"],function(e,t){"use strict";const n=t["createDeviceModel"];const i=e.extend("urvfrontend.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init:function t(){e.prototype.init.call(this);this.setModel(n(),"device");this.getRouter().initialize()}});return i});
},
	"urvfrontend/controller/App.controller.js":function(){
"use strict";sap.ui.define(["sap/ui/core/mvc/Controller"],function(n){"use strict";const t=n.extend("urvfrontend.controller.App",{onInit:function n(){}});return t});
},
	"urvfrontend/controller/Overview.controller.js":function(){
"use strict";sap.ui.define(["sap/m/MessageToast","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],function(e,t,o){"use strict";const n=t.extend("urvfrontend.controller.Overview",{onInit:function e(){},getUser:async function t(){const o=this.getView()?.getModel();console.log(o);const n=o.bindContext("/getIASUsers(...)",undefined,{});n.execute().then(()=>{const e=n.getBoundContext();if(!e){console.error("Function execution returned an undefined context!");return}const t=e.getObject();console.log("IAS Users:",t)}).catch(e=>{console.error("Error fetching IAS Users:",e)});const s=this.getView()?.byId("UserID");const r=s.getValue();if(r===""){e.show("Please enter a valid ID");return}const c=await this.getIASUser(r);const i=c.value?.[0];this.setUserDetails(i);const a=await this.getUserCollectionsViaGroup(i);console.log(a);const l=Object.entries(a).map(e=>{let[t,o]=e;return{group:t,roleCollections:o}});const u={};for(const{group:e,roleCollections:t}of l){u[e]={};for(const o of t){const t=await this.getRolecollectionRoles(o);const n=t?.value?.[0];const s=n?.roleReferences?.map(e=>e.name)||[];u[e][o]=s}console.log(u);this.setDataToTree(u)}},setDataToTree:function e(t){const n=Object.entries(t).map(e=>{let[t,o]=e;return{name:t,icon:"sap-icon://group",children:Object.entries(o).map(e=>{let[t,o]=e;return{name:t,icon:"sap-icon://manager",children:(o||[]).map(e=>({name:e,icon:"sap-icon://role"}))}})}});this.getView()?.setModel(new o({tree:n}),"TreeModel")},setUserDetails:function e(t){console.log(t);let n=this.getView()?.getModel("userModel");if(!n){n=new o;this.getView()?.setModel(n,"userModel")}n.setData(t)},getUserCollectionsViaGroup:async function e(t){console.log(t);const o=t.groups.map(e=>e.display);const n=await this.getRoleCollections();const s=n?.value||[];const r={};o.forEach(e=>{r[e]=[]});s.forEach(e=>{if(!e.groupReferences&&!e.samlAttributeAssignment){return}const t=[...(e.groupReferences||[]).map(e=>e.attributeValue),...(e.samlAttributeAssignment||[]).map(e=>e.attributeValue)];o.forEach(o=>{if(t.includes(o)){r[o].push(e.name)}})});return r},getIASUser:async function e(t){try{const e=await fetch(`/odata/v4/catalog/getIASUser(id='${t}')`);console.log(e);const o=await e.json();console.log("Users:",o);return o}catch(e){console.error("Error :",e)}},getRoleCollections:async function e(){try{const e=await fetch("/odata/v4/catalog/getRoleCollections");if(!e.ok){throw new Error(`Error: ${e.status}`)}const t=await e.json();return t}catch(e){console.error("Error:",e)}},getRolecollectionRoles:async function e(t){try{const e=await fetch(`/odata/v4/catalog/getRoleCollectionRoles(roleCollectionName='${t}')`);if(!e.ok){throw new Error(`Error: ${e.status}`)}const o=await e.json();return o}catch(e){console.error("Error:",e)}},onSearch:function e(t){const o=t.getParameter("newValue")?.toLowerCase()||"";const n=this.byId("RoleTree");n.expandToLevel(999);const s=n.getItems();if(!n)return;if(!o){s.forEach(e=>e.setHighlight("None"));return}s.forEach(e=>{const t=e.getBindingContext("TreeModel");if(t){const s=n.indexOfItem(e);const r=t.getProperty("name").toLowerCase();if(r.includes(o)){console.log(r+o);e.setHighlight("Success")}else{e.setHighlight("None")}}})}});return n});
},
	"urvfrontend/i18n/i18n.properties":'# This is the resource bundle for urvfrontend\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=URV Application\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=URV Application',
	"urvfrontend/manifest.json":'{"_version":"1.65.0","sap.app":{"id":"urvfrontend","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.16.4","toolsId":"3f30694e-b8bc-4a24-9d2c-75646fb2a5c2"},"dataSources":{"mainService":{"uri":"odata/v4/catalog/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.133.0","libs":{"sap.m":{},"sap.ui.core":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"urvfrontend.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlAggregation":"pages","controlId":"app","transition":"slide","type":"View","viewType":"XML","path":"urvfrontend.view"},"routes":[{"name":"RouteOverview","pattern":":?query:","target":["TargetOverview"]}],"targets":{"TargetOverview":{"id":"Overview","name":"Overview"}}},"rootView":{"viewName":"urvfrontend.view.App","type":"XML","id":"App"}},"sap.cloud":{"public":true,"service":"urv-app"}}',
	"urvfrontend/model/models.js":function(){
"use strict";sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";function t(){const t=new e(n);t.setDefaultBindingMode("OneWay");return t}var i={__esModule:true};i.createDeviceModel=t;return i});
},
	"urvfrontend/service/dataService.js":function(){
"use strict";
},
	"urvfrontend/view/App.view.xml":'<mvc:View controllerName="urvfrontend.controller.App"\n    displayBlock="true"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><App id="app"></App></mvc:View>',
	"urvfrontend/view/Overview.view.xml":'<mvc:View controllerName="urvfrontend.controller.Overview"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><Page id="page" title="{i18n>title}"><Input id="UserID" placeholder="User ID"></Input><Button id="userButton" text="Get User Info" type="Emphasized" press="getUser"></Button><Panel id="userdetails"><content><VBox class="sapUiSmallMargin"><Text text="User ID: {userModel>/urn:ietf:params:scim:schemas:extension:sap:2.0:User/id}" /><Text text="Name: {userModel>/name/givenName} {userModel>/name/familyName}" /><Text text="Email: {userModel>/emails/0/value}" /><Text text="User Type: {userModel>/userType}" /><Text text="Status: {userModel>/userUuid}" /></VBox></content></Panel><Panel id="groups"><SearchField \n            width="100%" \n            placeholder="Search in groups..." \n            liveChange=".onSearch" /><Tree id="RoleTree" items="{TreeModel>/tree}" mode="None"><StandardTreeItem title="{TreeModel>name}" icon="{TreeModel>icon}" /></Tree></Panel></Page></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
