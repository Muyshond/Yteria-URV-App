{"version":3,"file":"Component-preload.js","sections":[{"offset":{"line":1,"column":0},"map":{"version":3,"names":[],"sources":["Component-preload.js?bundle-code-0"],"mappings":"AAAA;AACA","sourcesContent":["sap.ui.require.preload({\n"],"sourceRoot":""}},{"offset":{"line":3,"column":0},"map":{"version":3,"file":"Component.js","names":["createDeviceModel","___model_models","Component","BaseComponent","extend","metadata","manifest","interfaces","init","_init","BaseComponent.prototype.init.call","this","setModel","getRouter","initialize"],"sources":["Component.ts"],"sourcesContent":["import BaseComponent from \"sap/ui/core/UIComponent\";\nimport { createDeviceModel } from \"./model/models\";\n\n/**\n * @namespace project1\n */\nexport default class Component extends BaseComponent {\n\n\tpublic static metadata = {\n\t\tmanifest: \"json\",\n        interfaces: [\n            \"sap.ui.core.IAsyncContentCreation\"\n        ]\n\t};\n\n\tpublic init() : void {\n\t\t// call the base component's init function\n\t\tsuper.init();\n\n        // set the device model\n        this.setModel(createDeviceModel(), \"device\");\n\n        // enable routing\n        this.getRouter().initialize();\n\t}\n}"],"mappings":"AAAA,yGACSA,EAAiBC,EAAA,qBAE1B,MAGqBC,EAAkBC,EAAaC,OAAA,sBAErCC,SAAW,CACxBC,SAAU,OACJC,WAAY,CACR,sCAIJC,KAAI,SAAAC,IAEVC,sBAAAC,MAGMA,KAAKC,SAASZ,IAAqB,UAGnCW,KAAKE,YAAYC,YACxB,IAAC,OAlBmBZ,CAAS","ignoreList":[],"sourceRoot":""}},{"offset":{"line":6,"column":0},"map":{"version":3,"file":"App.controller.js","names":["App","Controller","extend","onInit","_onInit"],"sources":["App.controller.ts"],"sourcesContent":["import Controller from \"sap/ui/core/mvc/Controller\";\n\n/**\n * @namespace project1.controller\n */\nexport default class App extends Controller {\n\n    /*eslint-disable @typescript-eslint/no-empty-function*/\n    public onInit(): void {\n\n    }\n}"],"mappings":"AAAA,mFAEA,MAGqBA,EAAYC,EAAUC,OAAA,2BAGhCC,OAAM,SAAAC,IAEb,IAAC,OALgBJ,CAAG","ignoreList":[],"sourceRoot":"controller"}},{"offset":{"line":9,"column":0},"map":{"version":3,"file":"View1.controller.js","names":["View1","Controller","extend","onInit","_onInit","getRoleCollections","async","_getRoleCollections","this","getToken","getTest","response","fetch","ok","Error","status","data","json","console","log","error","_getToken","sessionStorage","getItem","clientId","clientSecret","authHeader","btoa","URLSearchParams","append","method","headers","Authorization","body","result","access_token","setItem","_getTest"],"sources":["View1.controller.ts"],"sourcesContent":["import Controller from \"sap/ui/core/mvc/Controller\";\n\n/**\n * @namespace project1.controller\n */\nexport default class View1 extends Controller {\n\n    /*eslint-disable @typescript-eslint/no-empty-function*/\n    public onInit(): void {\n\n    }\n\n    public async getRoleCollections(){\n        this.getToken();\n        this.getTest()\n        try {\n            const response = await fetch(\"/Ypto-URV-Application-srv-api/getRoleCollections\");\n            \n            if (!response.ok) {\n                throw new Error(`Error: ${response.status}`);\n            }\n            const data = await response.json();\n            console.log(data);\n            return data;\n        } catch (error) {\n            console.error(\"Error:\", error);\n        }\n    }\n\n\n    public async getToken() {\n\n        if (sessionStorage.getItem(\"access_token\")){\n            console.log(\"jwt found\")\n            return sessionStorage.getItem(\"access_token\");\n        }\n        const clientId = \"sb-ypto-urv-application!t396111\";\n        const clientSecret = \"290924ba-2bf3-4f26-9993-e127c7f8bac7$FAGnOcnTYsekIPnf-MfOVk_AhKU0LTd627D_M5wdXnc=\";\n        const authHeader = `Basic ${btoa(`${clientId}:${clientSecret}`)}`;\n        const data = new URLSearchParams();\n        data.append(\"grant_type\", \"client_credentials\");\n        try {\n            const response = await fetch(\n                \"https://64b4765dtrial.authentication.us10.hana.ondemand.com/oauth/token\",\n                {\n                    method: \"POST\",\n                    headers: {\n                        Authorization: authHeader,\n                        \"Content-Type\": \"application/x-www-form-urlencoded\"\n                    },\n                    body: data\n                }\n            );\n\n            if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);\n\n            const result = await response.json();\n            console.log(\"Access Token:\", result.access_token);\n            sessionStorage.setItem(\"access_token\", result.access_token);\n            return result.access_token;\n        } catch (error) {\n            console.error(\"Failed to get token:\", error);\n            return null;\n        }\n\n    }\n\n\n\n    public async getTest(){\n        \n        try {\n            const response = await fetch(\n                \"https://64b4765dtrial-dev-ypto-urv-application-srv.cfapps.us10-001.hana.ondemand.com/odata/v4/catalog/getIASUsers\",\n                {\n                    method: \"GET\",\n                    headers: {\n                        Authorization: `Bearer ${sessionStorage.access_token}`,\n                        \"Content-Type\": \"application/json\"\n                    }\n                }\n            );\n    \n            if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);\n    \n            const result = await response.json();\n            console.log(\"IAS Users:\", result);\n            return result;\n        } catch (error) {\n            console.error(\"Failed to fetch IAS users:\", error);\n            return null;\n        }\n    }\n}"],"mappings":"AAAA,mFAEA,MAGqBA,EAAcC,EAAUC,OAAA,6BAGlCC,OAAM,SAAAC,IAEb,EAEaC,mBAAkBC,eAAAC,IAC3BC,KAAKC,WACLD,KAAKE,UACL,IACI,MAAMC,QAAiBC,MAAM,oDAE7B,IAAKD,EAASE,GAAI,CACd,MAAM,IAAIC,MAAM,UAAUH,EAASI,SACvC,CACA,MAAMC,QAAaL,EAASM,OAC5BC,QAAQC,IAAIH,GACZ,OAAOA,CACX,CAAE,MAAOI,GACLF,QAAQE,MAAM,SAAUA,EAC5B,CACJ,EAGaX,SAAQH,eAAAe,IAEjB,GAAIC,eAAeC,QAAQ,gBAAgB,CACvCL,QAAQC,IAAI,aACZ,OAAOG,eAAeC,QAAQ,eAClC,CACA,MAAMC,EAAW,kCACjB,MAAMC,EAAe,oFACrB,MAAMC,EAAa,SAASC,KAAK,GAAGH,KAAYC,OAChD,MAAMT,EAAO,IAAIY,gBACjBZ,EAAKa,OAAO,aAAc,sBAC1B,IACI,MAAMlB,QAAiBC,MACnB,0EACA,CACIkB,OAAQ,OACRC,QAAS,CACLC,cAAeN,EACf,eAAgB,qCAEpBO,KAAMjB,IAId,IAAKL,EAASE,GAAI,MAAM,IAAIC,MAAM,uBAAuBH,EAASI,UAElE,MAAMmB,QAAevB,EAASM,OAC9BC,QAAQC,IAAI,gBAAiBe,EAAOC,cACpCb,eAAec,QAAQ,eAAgBF,EAAOC,cAC9C,OAAOD,EAAOC,YAClB,CAAE,MAAOf,GACLF,QAAQE,MAAM,uBAAwBA,GACtC,OAAO,IACX,CAEJ,EAIaV,QAAOJ,eAAA+B,IAEhB,IACI,MAAM1B,QAAiBC,MACnB,oHACA,CACIkB,OAAQ,MACRC,QAAS,CACLC,cAAe,UAAUV,eAAea,eACxC,eAAgB,sBAK5B,IAAKxB,EAASE,GAAI,MAAM,IAAIC,MAAM,uBAAuBH,EAASI,UAElE,MAAMmB,QAAevB,EAASM,OAC9BC,QAAQC,IAAI,aAAce,GAC1B,OAAOA,CACX,CAAE,MAAOd,GACLF,QAAQE,MAAM,6BAA8BA,GAC5C,OAAO,IACX,CACJ,IAAC,OAvFgBpB,CAAK","ignoreList":[],"sourceRoot":"controller"}},{"offset":{"line":14,"column":0},"map":{"version":3,"file":"models.js","names":["createDeviceModel","model","JSONModel","Device","setDefaultBindingMode","__exports","__esModule"],"sources":["models.ts"],"sourcesContent":["import JSONModel from \"sap/ui/model/json/JSONModel\";\nimport Device from \"sap/ui/Device\";\n\nexport function createDeviceModel () {\n    const model = new JSONModel(Device);\n    model.setDefaultBindingMode(\"OneWay\");\n    return model;\n}"],"mappings":"AAAA,sGAGO,SAASA,IACZ,MAAMC,EAAQ,IAAIC,EAAUC,GAC5BF,EAAMG,sBAAsB,UAC5B,OAAOH,CACX,CAAC,IAAAI,EAAA,CAAAC,WAAA,MAAAD,EAAAL,oBAAA,OAAAK,CAAA","ignoreList":[],"sourceRoot":"model"}}]}