"use strict";sap.ui.define(["sap/ui/core/mvc/Controller"],function(t){"use strict";const o=t.extend("project1.controller.View1",{onInit:function t(){},getRoleCollections:async function t(){this.getToken();this.getTest();try{const t=await fetch("/Ypto-URV-Application-srv-api/getRoleCollections");if(!t.ok){throw new Error(`Error: ${t.status}`)}const o=await t.json();console.log(o);return o}catch(t){console.error("Error:",t)}},getToken:async function t(){if(sessionStorage.getItem("access_token")){console.log("jwt found");return sessionStorage.getItem("access_token")}const o="sb-ypto-urv-application!t396111";const e="290924ba-2bf3-4f26-9993-e127c7f8bac7$FAGnOcnTYsekIPnf-MfOVk_AhKU0LTd627D_M5wdXnc=";const n=`Basic ${btoa(`${o}:${e}`)}`;const s=new URLSearchParams;s.append("grant_type","client_credentials");try{const t=await fetch("https://64b4765dtrial.authentication.us10.hana.ondemand.com/oauth/token",{method:"POST",headers:{Authorization:n,"Content-Type":"application/x-www-form-urlencoded"},body:s});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const o=await t.json();console.log("Access Token:",o.access_token);sessionStorage.setItem("access_token",o.access_token);return o.access_token}catch(t){console.error("Failed to get token:",t);return null}},getTest:async function t(){try{const t=await fetch("https://64b4765dtrial-dev-ypto-urv-application-srv.cfapps.us10-001.hana.ondemand.com/odata/v4/catalog/getIASUsers",{method:"GET",headers:{Authorization:`Bearer ${sessionStorage.access_token}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const o=await t.json();console.log("IAS Users:",o);return o}catch(t){console.error("Failed to fetch IAS users:",t);return null}}});return o});
//# sourceMappingURL=View1.controller.js.map